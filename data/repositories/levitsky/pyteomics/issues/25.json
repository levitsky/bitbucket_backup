{"priority": "minor", "kind": "bug", "repository": {"links": {"self": {"href": "data/repositories/levitsky/pyteomics.json"}, "html": {"href": "#!/levitsky/pyteomics"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3f6302de-10da-4d3c-b258-0bb6a2368972}ts=74456"}}, "type": "repository", "name": "pyteomics", "full_name": "levitsky/pyteomics", "uuid": "{3f6302de-10da-4d3c-b258-0bb6a2368972}"}, "links": {"attachments": {"href": "data/repositories/levitsky/pyteomics/issues/25/attachments_page=1.json"}, "self": {"href": "data/repositories/levitsky/pyteomics/issues/25.json"}, "watch": {"href": "https://api.bitbucket.org/2.0/repositories/levitsky/pyteomics/issues/25/watch"}, "comments": {"href": "data/repositories/levitsky/pyteomics/issues/25/comments_page=1.json"}, "html": {"href": "#!/levitsky/pyteomics/issues/25/pyteomics-34-incompatible-with-current"}, "vote": {"href": "https://api.bitbucket.org/2.0/repositories/levitsky/pyteomics/issues/25/vote"}}, "reporter": {"display_name": "mglubber", "uuid": "{559bde61-bb9f-484b-b183-1b21bb8b4bb0}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B559bde61-bb9f-484b-b183-1b21bb8b4bb0%7D"}, "html": {"href": "https://bitbucket.org/%7B559bde61-bb9f-484b-b183-1b21bb8b4bb0%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/f188803c05340901eba88626b4b308d9d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsM-0.png"}}, "nickname": "mglubber", "type": "user", "account_id": "5af0862cfd53c72c28995f3f"}, "title": "pyteomics 3.4 incompatible with current versions of pepxmltk and cythonize", "component": null, "votes": 0, "watches": 1, "content": {"raw": "Installing pyteomics with conda (from the bioconda channel) installs version 3.4, which appears to incompatible with the current versions of pyteomics.pepxmltk and pyteomics.cythonize available through pip. E.g.\r\n\r\n```\r\n#!bash\r\nconda create --name some_env python=2.7 -c bioconda pyteomics\r\nconda activate some_env\r\npip install pyteomics.pepxmltk\r\n```\r\nWill give an ```ImportError``` if I try to use pyteomics, e.g.\r\n```\r\n#!python\r\n>>> from pyteomics import mass\r\nTraceback (most recent call last):\r\n  File \"<stdin>\", line 1, in <module>\r\nImportError: cannot import name mass\r\n```\r\nThe same error occurs if pyteomics.cythonize is installed instead of pepxmltk.\r\n\r\nHowever, if I install both pyteomics and the additional modules through pip, pyteomics version 3.4.2 is installed and everything works correctly.\r\n```\r\n#!bash\r\nconda create --name some_env python=2.7\r\nconda activate some_env\r\npip install pyteomics pyteomics.pepxmltk\r\n```\r\n```\r\n#!python\r\n>>> from pyteomics import mass\r\n>>> mass.calculate_mass(formula=\"H2O\")\r\n18.0105646837\r\n```\r\nInstalling just pyteomics through conda without any additional modules also works correctly.", "markup": "markdown", "html": "<p>Installing pyteomics with conda (from the bioconda channel) installs version 3.4, which appears to incompatible with the current versions of pyteomics.pepxmltk and pyteomics.cythonize available through pip. E.g.</p>\n<div class=\"codehilite language-bash\"><pre><span></span>conda create --name some_env <span class=\"nv\">python</span><span class=\"o\">=</span><span class=\"m\">2</span>.7 -c bioconda pyteomics\nconda activate some_env\npip install pyteomics.pepxmltk\n</pre></div>\n\n\n<p>Will give an <code>ImportError</code> if I try to use pyteomics, e.g.</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"kn\">from</span> <span class=\"nn\">pyteomics</span> <span class=\"kn\">import</span> <span class=\"n\">mass</span>\n<span class=\"n\">Traceback</span> <span class=\"p\">(</span><span class=\"n\">most</span> <span class=\"n\">recent</span> <span class=\"n\">call</span> <span class=\"n\">last</span><span class=\"p\">):</span>\n  <span class=\"n\">File</span> <span class=\"s2\">&quot;&lt;stdin&gt;&quot;</span><span class=\"p\">,</span> <span class=\"n\">line</span> <span class=\"mi\">1</span><span class=\"p\">,</span> <span class=\"ow\">in</span> <span class=\"o\">&lt;</span><span class=\"n\">module</span><span class=\"o\">&gt;</span>\n<span class=\"ne\">ImportError</span><span class=\"p\">:</span> <span class=\"n\">cannot</span> <span class=\"kn\">import</span> <span class=\"nn\">name</span> <span class=\"nn\">mass</span>\n</pre></div>\n\n\n<p>The same error occurs if pyteomics.cythonize is installed instead of pepxmltk.</p>\n<p>However, if I install both pyteomics and the additional modules through pip, pyteomics version 3.4.2 is installed and everything works correctly.</p>\n<div class=\"codehilite language-bash\"><pre><span></span>conda create --name some_env <span class=\"nv\">python</span><span class=\"o\">=</span><span class=\"m\">2</span>.7\nconda activate some_env\npip install pyteomics pyteomics.pepxmltk\n</pre></div>\n\n\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"o\">&gt;&gt;&gt;</span> <span class=\"kn\">from</span> <span class=\"nn\">pyteomics</span> <span class=\"kn\">import</span> <span class=\"n\">mass</span>\n<span class=\"o\">&gt;&gt;&gt;</span> <span class=\"n\">mass</span><span class=\"o\">.</span><span class=\"n\">calculate_mass</span><span class=\"p\">(</span><span class=\"n\">formula</span><span class=\"o\">=</span><span class=\"s2\">&quot;H2O&quot;</span><span class=\"p\">)</span>\n<span class=\"mf\">18.0105646837</span>\n</pre></div>\n\n\n<p>Installing just pyteomics through conda without any additional modules also works correctly.</p>", "type": "rendered"}, "assignee": null, "state": "resolved", "version": null, "edited_on": null, "created_on": "2018-05-07T20:52:03.480199+00:00", "milestone": null, "updated_on": "2018-06-07T10:32:13.476239+00:00", "type": "issue", "id": 25}