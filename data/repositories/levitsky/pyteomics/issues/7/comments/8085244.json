{"links": {"self": {"href": "data/repositories/levitsky/pyteomics/issues/7/comments/8085244.json"}, "html": {"href": "#!/levitsky/pyteomics/issues/7#comment-8085244"}}, "issue": {"links": {"self": {"href": "data/repositories/levitsky/pyteomics/issues/7.json"}}, "type": "issue", "id": 7, "repository": {"links": {"self": {"href": "data/repositories/levitsky/pyteomics.json"}, "html": {"href": "#!/levitsky/pyteomics"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3f6302de-10da-4d3c-b258-0bb6a2368972}ts=74456"}}, "type": "repository", "name": "pyteomics", "full_name": "levitsky/pyteomics", "uuid": "{3f6302de-10da-4d3c-b258-0bb6a2368972}"}, "title": "ValueError in pepxml.py"}, "content": {"raw": "Hi Brian,\n\nthank you for reporting! This is definitely a bug; we just hadn't come across a file that would show it until now. I'll add a fix for this as soon as possible, probably something similar to what you are showing above (but preserving the value). \n\n**Edit:** What I'm thinking of is the following:\n\n```\n#!python\n\ntry:\n    scores[name] = float(value)\nexcept ValueError:\n    scores[name] = value\n```\n\nP.S. I'm wondering why the line number is 90 in the traceback you are showing, because it's line 85 in all recent versions of pyteomics. Is it an older version, or have you added other changes? Just curious :)\n\nThanks again,\n\nLev", "markup": "markdown", "html": "<p>Hi Brian,</p>\n<p>thank you for reporting! This is definitely a bug; we just hadn't come across a file that would show it until now. I'll add a fix for this as soon as possible, probably something similar to what you are showing above (but preserving the value). </p>\n<p><strong>Edit:</strong> What I'm thinking of is the following:</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"k\">try</span><span class=\"p\">:</span>\n    <span class=\"n\">scores</span><span class=\"p\">[</span><span class=\"n\">name</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"nb\">float</span><span class=\"p\">(</span><span class=\"n\">value</span><span class=\"p\">)</span>\n<span class=\"k\">except</span> <span class=\"ne\">ValueError</span><span class=\"p\">:</span>\n    <span class=\"n\">scores</span><span class=\"p\">[</span><span class=\"n\">name</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">value</span>\n</pre></div>\n\n\n<p>P.S. I'm wondering why the line number is 90 in the traceback you are showing, because it's line 85 in all recent versions of pyteomics. Is it an older version, or have you added other changes? Just curious :)</p>\n<p>Thanks again,</p>\n<p>Lev</p>", "type": "rendered"}, "created_on": "2014-02-04T21:46:05.449286+00:00", "user": {"display_name": "Lev Levitsky", "uuid": "{eb44325f-4ee0-4e0b-a27c-f2ea23122a56}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beb44325f-4ee0-4e0b-a27c-f2ea23122a56%7D"}, "html": {"href": "https://bitbucket.org/%7Beb44325f-4ee0-4e0b-a27c-f2ea23122a56%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/a2593c44c42429c503d2e5e9e307e241d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLL-6.png"}}, "nickname": "levitsky", "type": "user", "account_id": "557058:986c547b-c50a-40b3-948a-29b4a93b7b30"}, "updated_on": "2014-02-04T22:04:24.681664+00:00", "type": "issue_comment", "id": 8085244}