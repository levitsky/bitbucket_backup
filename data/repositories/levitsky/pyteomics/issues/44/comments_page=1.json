{"pagelen": 100, "values": [{"links": {"self": {"href": "data/repositories/levitsky/pyteomics/issues/44/comments/53537670.json"}, "html": {"href": "#!/levitsky/pyteomics/issues/44#comment-53537670"}}, "issue": {"links": {"self": {"href": "data/repositories/levitsky/pyteomics/issues/44.json"}}, "type": "issue", "id": 44, "repository": {"links": {"self": {"href": "data/repositories/levitsky/pyteomics.json"}, "html": {"href": "#!/levitsky/pyteomics"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3f6302de-10da-4d3c-b258-0bb6a2368972}ts=74456"}}, "type": "repository", "name": "pyteomics", "full_name": "levitsky/pyteomics", "uuid": "{3f6302de-10da-4d3c-b258-0bb6a2368972}"}, "title": "Multiprocessing Queue maxsize too large for MacOS"}, "content": {"raw": "That is an unexpected, and surprisingly undocumented limitation.\n\nIt shouldn't have any practical effect except in bizarre scenarios where a file contains hundreds of thousands of trivial entries and the main process can't consume them fast enough \\(not calling `next`\\) on the iterator returned by `map`.", "markup": "markdown", "html": "<p>That is an unexpected, and surprisingly undocumented limitation.</p>\n<p>It shouldn't have any practical effect except in bizarre scenarios where a file contains hundreds of thousands of trivial entries and the main process can't consume them fast enough (not calling <code>next</code>) on the iterator returned by <code>map</code>.</p>", "type": "rendered"}, "created_on": "2019-08-22T02:51:00.811513+00:00", "user": {"display_name": "Joshua Klein", "uuid": "{919f0add-304d-4b9a-8889-d2622a3dbc96}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B919f0add-304d-4b9a-8889-d2622a3dbc96%7D"}, "html": {"href": "https://bitbucket.org/%7B919f0add-304d-4b9a-8889-d2622a3dbc96%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/7d0e70bc74f783efa621a2bdd228ca22d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJK-3.png"}}, "nickname": "mobiusklein", "type": "user", "account_id": "557058:ff82222f-afe5-4135-a1b7-8de99a00f669"}, "updated_on": null, "type": "issue_comment", "id": 53537670}, {"links": {"self": {"href": "data/repositories/levitsky/pyteomics/issues/44/comments/53624579.json"}, "html": {"href": "#!/levitsky/pyteomics/issues/44#comment-53624579"}}, "issue": {"links": {"self": {"href": "data/repositories/levitsky/pyteomics/issues/44.json"}}, "type": "issue", "id": 44, "repository": {"links": {"self": {"href": "data/repositories/levitsky/pyteomics.json"}, "html": {"href": "#!/levitsky/pyteomics"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3f6302de-10da-4d3c-b258-0bb6a2368972}ts=74456"}}, "type": "repository", "name": "pyteomics", "full_name": "levitsky/pyteomics", "uuid": "{3f6302de-10da-4d3c-b258-0bb6a2368972}"}, "title": "Multiprocessing Queue maxsize too large for MacOS"}, "content": {"raw": "@{557058:986c547b-c50a-40b3-948a-29b4a93b7b30}  and I are discussing the right way to implement this to make the queue size visible to the user. Were you able to modify your copy of the codebase to make it work?", "markup": "markdown", "html": "<p><span class=\"ap-mention ap-mention-me\" data-atlassian-id=\"557058:986c547b-c50a-40b3-948a-29b4a93b7b30\">@Lev Levitsky</span>  and I are discussing the right way to implement this to make the queue size visible to the user. Were you able to modify your copy of the codebase to make it work?</p>", "type": "rendered"}, "created_on": "2019-08-28T00:17:31.536547+00:00", "user": {"display_name": "Joshua Klein", "uuid": "{919f0add-304d-4b9a-8889-d2622a3dbc96}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B919f0add-304d-4b9a-8889-d2622a3dbc96%7D"}, "html": {"href": "https://bitbucket.org/%7B919f0add-304d-4b9a-8889-d2622a3dbc96%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/7d0e70bc74f783efa621a2bdd228ca22d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJK-3.png"}}, "nickname": "mobiusklein", "type": "user", "account_id": "557058:ff82222f-afe5-4135-a1b7-8de99a00f669"}, "updated_on": null, "type": "issue_comment", "id": 53624579}, {"links": {"self": {"href": "data/repositories/levitsky/pyteomics/issues/44/comments/55038644.json"}, "html": {"href": "#!/levitsky/pyteomics/issues/44#comment-55038644"}}, "issue": {"links": {"self": {"href": "data/repositories/levitsky/pyteomics/issues/44.json"}}, "type": "issue", "id": 44, "repository": {"links": {"self": {"href": "data/repositories/levitsky/pyteomics.json"}, "html": {"href": "#!/levitsky/pyteomics"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3f6302de-10da-4d3c-b258-0bb6a2368972}ts=74456"}}, "type": "repository", "name": "pyteomics", "full_name": "levitsky/pyteomics", "uuid": "{3f6302de-10da-4d3c-b258-0bb6a2368972}"}, "title": "Multiprocessing Queue maxsize too large for MacOS"}, "content": {"raw": "Fix #44 by adding new keyword arguments for map-supporting readers: queue_size, queue_timeout and processes.\nMake __init__ signatures more cooperative throughout the class tree.\nMake sure that index is not constructed in index-saving readers even if file with offsets exists.\n\n\u2192 <<cset de236b0ab1b0>>", "markup": "markdown", "html": "<p>Fix <a href=\"#!/levitsky/pyteomics/issues/44/multiprocessing-queue-maxsize-too-large\" rel=\"nofollow\" title=\"Multiprocessing Queue maxsize too large for MacOS\" class=\"ap-connect-link\"><s>#44</s></a> by adding new keyword arguments for map-supporting readers: queue_size, queue_timeout and processes.\nMake <strong>init</strong> signatures more cooperative throughout the class tree.\nMake sure that index is not constructed in index-saving readers even if file with offsets exists.</p>\n<p>\u2192 &lt;&lt;cset <a href=\"#!/levitsky/pyteomics/commits/de236b0ab1b0\" rel=\"nofollow\" class=\"ap-connect-link\">de236b0ab1b0</a>&gt;&gt;</p>", "type": "rendered"}, "created_on": "2019-11-30T20:11:52.904611+00:00", "user": {"display_name": "Lev Levitsky", "uuid": "{eb44325f-4ee0-4e0b-a27c-f2ea23122a56}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beb44325f-4ee0-4e0b-a27c-f2ea23122a56%7D"}, "html": {"href": "https://bitbucket.org/%7Beb44325f-4ee0-4e0b-a27c-f2ea23122a56%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/a2593c44c42429c503d2e5e9e307e241d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLL-6.png"}}, "nickname": "levitsky", "type": "user", "account_id": "557058:986c547b-c50a-40b3-948a-29b4a93b7b30"}, "updated_on": null, "type": "issue_comment", "id": 55038644}, {"links": {"self": {"href": "data/repositories/levitsky/pyteomics/issues/44/comments/55038673.json"}, "html": {"href": "#!/levitsky/pyteomics/issues/44#comment-55038673"}}, "issue": {"links": {"self": {"href": "data/repositories/levitsky/pyteomics/issues/44.json"}}, "type": "issue", "id": 44, "repository": {"links": {"self": {"href": "data/repositories/levitsky/pyteomics.json"}, "html": {"href": "#!/levitsky/pyteomics"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3f6302de-10da-4d3c-b258-0bb6a2368972}ts=74456"}}, "type": "repository", "name": "pyteomics", "full_name": "levitsky/pyteomics", "uuid": "{3f6302de-10da-4d3c-b258-0bb6a2368972}"}, "title": "Multiprocessing Queue maxsize too large for MacOS"}, "content": {"raw": "With the latest commit, you should be able to adjust the queue size at reader creation time \\(e.g. `MzML('test.mzML', queue_size=32767`\\) or by setting a module-level variable once before creating the reader:\n\n```python\nfrom pyteomics.auxiliary import file_helpers as fh\nfh._QUEUE_SIZE = 32767\n```\n\n\u200c", "markup": "markdown", "html": "<p>With the latest commit, you should be able to adjust the queue size at reader creation time (e.g. <code>MzML('test.mzML', queue_size=32767</code>) or by setting a module-level variable once before creating the reader:</p>\n<div class=\"codehilite language-python\"><pre><span></span><span class=\"kn\">from</span> <span class=\"nn\">pyteomics.auxiliary</span> <span class=\"kn\">import</span> <span class=\"n\">file_helpers</span> <span class=\"k\">as</span> <span class=\"n\">fh</span>\n<span class=\"n\">fh</span><span class=\"o\">.</span><span class=\"n\">_QUEUE_SIZE</span> <span class=\"o\">=</span> <span class=\"mi\">32767</span>\n</pre></div>\n\n\n<p>\u200c</p>", "type": "rendered"}, "created_on": "2019-11-30T20:16:25.389065+00:00", "user": {"display_name": "Lev Levitsky", "uuid": "{eb44325f-4ee0-4e0b-a27c-f2ea23122a56}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beb44325f-4ee0-4e0b-a27c-f2ea23122a56%7D"}, "html": {"href": "https://bitbucket.org/%7Beb44325f-4ee0-4e0b-a27c-f2ea23122a56%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/a2593c44c42429c503d2e5e9e307e241d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLL-6.png"}}, "nickname": "levitsky", "type": "user", "account_id": "557058:986c547b-c50a-40b3-948a-29b4a93b7b30"}, "updated_on": null, "type": "issue_comment", "id": 55038673}], "page": 1, "size": 4}