{"pagelen": 50, "values": [{"comment": {"links": {"self": {"href": "data/repositories/levitsky/pyteomics/pullrequests/34/comments/94698911.json"}, "html": {"href": "#!/levitsky/pyteomics/pull-requests/34/_/diff#comment-94698911"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 34, "links": {"self": {"href": "data/repositories/levitsky/pyteomics/pullrequests/34.json"}, "html": {"href": "#!/levitsky/pyteomics/pull-requests/34"}}, "title": "feature:Make the charge parser used by MGFBase overrideable by inheritance"}, "content": {"raw": "Thanks. I had noticed before that charge parsing was one of the slowest parts of MGF parsing, but now that I think of it, I wrote the parsing utility for precursor charges \\(where I\u2019ve seen lists of values and \u201c\\+\u201d chars\\), while most of the overhead was when reading fragment charges, which I only ever saw as regular ints. Perhaps these two should be decoupled? Then again, a lot of the overhead comes from masked array creation, too.", "markup": "markdown", "html": "<p>Thanks. I had noticed before that charge parsing was one of the slowest parts of MGF parsing, but now that I think of it, I wrote the parsing utility for precursor charges (where I\u2019ve seen lists of values and \u201c+\u201d chars), while most of the overhead was when reading fragment charges, which I only ever saw as regular ints. Perhaps these two should be decoupled? Then again, a lot of the overhead comes from masked array creation, too.</p>", "type": "rendered"}, "created_on": "2019-03-12T15:40:03.633331+00:00", "user": {"display_name": "Lev Levitsky", "uuid": "{eb44325f-4ee0-4e0b-a27c-f2ea23122a56}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beb44325f-4ee0-4e0b-a27c-f2ea23122a56%7D"}, "html": {"href": "https://bitbucket.org/%7Beb44325f-4ee0-4e0b-a27c-f2ea23122a56%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/a2593c44c42429c503d2e5e9e307e241d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLL-6.png"}}, "nickname": "levitsky", "type": "user", "account_id": "557058:986c547b-c50a-40b3-948a-29b4a93b7b30"}, "updated_on": "2019-03-12T15:40:03.716706+00:00", "type": "pullrequest_comment", "id": 94698911}, "pull_request": {"type": "pullrequest", "id": 34, "links": {"self": {"href": "data/repositories/levitsky/pyteomics/pullrequests/34.json"}, "html": {"href": "#!/levitsky/pyteomics/pull-requests/34"}}, "title": "feature:Make the charge parser used by MGFBase overrideable by inheritance"}}, {"update": {"description": "The default charge parser was written to defend against poorly formatted, ambiguous charge states from the bad old days of low resolution instruments. However, regexes are slow compared to exact string operations, and when the you don't need to handle the ambiguity it can be the slowest part of parsing. This patch allows you to override the charge parser function through inheritance rather than by monkeypatching `pyteomics.mgf.aux._parse_charge` globally.\r\n\r\nThe new tests for the index saving process for MGF broke on Windows because of newline conversion \\(\\\\n -> \\\\n\\\\r\\), resulting in incorrect offsets. Opening the files in binary mode ensures that the original line endings are preserved. The types of the reference offsets' containers needed to be adjusted to satisfy Py3.6 where lists do not equal tuples even if their contents are the same?\r\n\r\nLastly, PyteomicsError was defined to take only one argument, the error message but pylint observed it was called with an additional parameter occaisionally. While the error would result from invalid user code rather than library code, allowing it to take additional arguments satisfied the static code checker.", "title": "feature:Make the charge parser used by MGFBase overrideable by inheritance", "destination": {"commit": {"hash": "6b5eac1e4360", "type": "commit", "links": {"self": {"href": "data/repositories/levitsky/pyteomics/commit/6b5eac1e4360.json"}, "html": {"href": "#!/levitsky/pyteomics/commits/6b5eac1e4360"}}}, "repository": {"links": {"self": {"href": "data/repositories/levitsky/pyteomics.json"}, "html": {"href": "#!/levitsky/pyteomics"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3f6302de-10da-4d3c-b258-0bb6a2368972}ts=74456"}}, "type": "repository", "name": "pyteomics", "full_name": "levitsky/pyteomics", "uuid": "{3f6302de-10da-4d3c-b258-0bb6a2368972}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "82c125a24959", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mobiusklein/pyteomics/commit/82c125a24959"}, "html": {"href": "https://bitbucket.org/mobiusklein/pyteomics/commits/82c125a24959"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mobiusklein/pyteomics"}, "html": {"href": "https://bitbucket.org/mobiusklein/pyteomics"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3ce101ca-5477-41e1-a7e0-d31a18922eb9}ts=python"}}, "type": "repository", "name": "pyteomics", "full_name": "mobiusklein/pyteomics", "uuid": "{3ce101ca-5477-41e1-a7e0-d31a18922eb9}"}, "branch": {"name": "default"}}, "state": "MERGED", "author": {"display_name": "Lev Levitsky", "uuid": "{eb44325f-4ee0-4e0b-a27c-f2ea23122a56}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7Beb44325f-4ee0-4e0b-a27c-f2ea23122a56%7D"}, "html": {"href": "https://bitbucket.org/%7Beb44325f-4ee0-4e0b-a27c-f2ea23122a56%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/a2593c44c42429c503d2e5e9e307e241d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsLL-6.png"}}, "nickname": "levitsky", "type": "user", "account_id": "557058:986c547b-c50a-40b3-948a-29b4a93b7b30"}, "date": "2019-03-12T15:36:54.511181+00:00"}, "pull_request": {"type": "pullrequest", "id": 34, "links": {"self": {"href": "data/repositories/levitsky/pyteomics/pullrequests/34.json"}, "html": {"href": "#!/levitsky/pyteomics/pull-requests/34"}}, "title": "feature:Make the charge parser used by MGFBase overrideable by inheritance"}}, {"update": {"description": "The default charge parser was written to defend against poorly formatted, ambiguous charge states from the bad old days of low resolution instruments. However, regexes are slow compared to exact string operations, and when the you don't need to handle the ambiguity it can be the slowest part of parsing. This patch allows you to override the charge parser function through inheritance rather than by monkeypatching `pyteomics.mgf.aux._parse_charge` globally.\r\n\r\nThe new tests for the index saving process for MGF broke on Windows because of newline conversion \\(\\\\n -> \\\\n\\\\r\\), resulting in incorrect offsets. Opening the files in binary mode ensures that the original line endings are preserved. The types of the reference offsets' containers needed to be adjusted to satisfy Py3.6 where lists do not equal tuples even if their contents are the same?\r\n\r\nLastly, PyteomicsError was defined to take only one argument, the error message but pylint observed it was called with an additional parameter occaisionally. While the error would result from invalid user code rather than library code, allowing it to take additional arguments satisfied the static code checker.", "title": "feature:Make the charge parser used by MGFBase overrideable by inheritance", "destination": {"commit": {"hash": "6b5eac1e4360", "type": "commit", "links": {"self": {"href": "data/repositories/levitsky/pyteomics/commit/6b5eac1e4360.json"}, "html": {"href": "#!/levitsky/pyteomics/commits/6b5eac1e4360"}}}, "repository": {"links": {"self": {"href": "data/repositories/levitsky/pyteomics.json"}, "html": {"href": "#!/levitsky/pyteomics"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3f6302de-10da-4d3c-b258-0bb6a2368972}ts=74456"}}, "type": "repository", "name": "pyteomics", "full_name": "levitsky/pyteomics", "uuid": "{3f6302de-10da-4d3c-b258-0bb6a2368972}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "82c125a24959", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mobiusklein/pyteomics/commit/82c125a24959"}, "html": {"href": "https://bitbucket.org/mobiusklein/pyteomics/commits/82c125a24959"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mobiusklein/pyteomics"}, "html": {"href": "https://bitbucket.org/mobiusklein/pyteomics"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3ce101ca-5477-41e1-a7e0-d31a18922eb9}ts=python"}}, "type": "repository", "name": "pyteomics", "full_name": "mobiusklein/pyteomics", "uuid": "{3ce101ca-5477-41e1-a7e0-d31a18922eb9}"}, "branch": {"name": "default"}}, "state": "OPEN", "author": {"display_name": "Joshua Klein", "uuid": "{919f0add-304d-4b9a-8889-d2622a3dbc96}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B919f0add-304d-4b9a-8889-d2622a3dbc96%7D"}, "html": {"href": "https://bitbucket.org/%7B919f0add-304d-4b9a-8889-d2622a3dbc96%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/7d0e70bc74f783efa621a2bdd228ca22d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJK-3.png"}}, "nickname": "mobiusklein", "type": "user", "account_id": "557058:ff82222f-afe5-4135-a1b7-8de99a00f669"}, "date": "2019-03-12T02:18:30.780480+00:00"}, "pull_request": {"type": "pullrequest", "id": 34, "links": {"self": {"href": "data/repositories/levitsky/pyteomics/pullrequests/34.json"}, "html": {"href": "#!/levitsky/pyteomics/pull-requests/34"}}, "title": "feature:Make the charge parser used by MGFBase overrideable by inheritance"}}, {"update": {"description": "The default charge parser was written to defend against poorly formatted, ambiguous charge states from the bad old days of low resolution instruments. However, regexes are slow compared to exact string operations, and when the you don't need to handle the ambiguity it can be the slowest part of parsing. This patch allows you to override the charge parser function through inheritance rather than by monkeypatching `pyteomics.mgf.aux._parse_charge` globally.\r\n\r\nThe new tests for the index saving process for MGF broke on Windows because of newline conversion \\(\\\\n -> \\\\n\\\\r\\), resulting in incorrect offsets. Opening the files in binary mode ensures that the original line endings are preserved. The types of the reference offsets' containers needed to be adjusted to satisfy Py3.6 where lists do not equal tuples even if their contents are the same?\r\n\r\nLastly, PyteomicsError was defined to take only one argument, the error message but pylint observed it was called with an additional parameter occaisionally. While the error would result from invalid user code rather than library code, allowing it to take additional arguments satisfied the static code checker.", "title": "feature:Make the charge parser used by MGFBase overrideable by inheritance", "destination": {"commit": {"hash": "6b5eac1e4360", "type": "commit", "links": {"self": {"href": "data/repositories/levitsky/pyteomics/commit/6b5eac1e4360.json"}, "html": {"href": "#!/levitsky/pyteomics/commits/6b5eac1e4360"}}}, "repository": {"links": {"self": {"href": "data/repositories/levitsky/pyteomics.json"}, "html": {"href": "#!/levitsky/pyteomics"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3f6302de-10da-4d3c-b258-0bb6a2368972}ts=74456"}}, "type": "repository", "name": "pyteomics", "full_name": "levitsky/pyteomics", "uuid": "{3f6302de-10da-4d3c-b258-0bb6a2368972}"}, "branch": {"name": "default"}}, "reason": "", "source": {"commit": {"hash": "82c125a24959", "type": "commit", "links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mobiusklein/pyteomics/commit/82c125a24959"}, "html": {"href": "https://bitbucket.org/mobiusklein/pyteomics/commits/82c125a24959"}}}, "repository": {"links": {"self": {"href": "https://api.bitbucket.org/2.0/repositories/mobiusklein/pyteomics"}, "html": {"href": "https://bitbucket.org/mobiusklein/pyteomics"}, "avatar": {"href": "data/bytebucket.org/ravatar/{3ce101ca-5477-41e1-a7e0-d31a18922eb9}ts=python"}}, "type": "repository", "name": "pyteomics", "full_name": "mobiusklein/pyteomics", "uuid": "{3ce101ca-5477-41e1-a7e0-d31a18922eb9}"}, "branch": {"name": "default"}}, "state": "OPEN", "author": {"display_name": "Joshua Klein", "uuid": "{919f0add-304d-4b9a-8889-d2622a3dbc96}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B919f0add-304d-4b9a-8889-d2622a3dbc96%7D"}, "html": {"href": "https://bitbucket.org/%7B919f0add-304d-4b9a-8889-d2622a3dbc96%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/7d0e70bc74f783efa621a2bdd228ca22d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJK-3.png"}}, "nickname": "mobiusklein", "type": "user", "account_id": "557058:ff82222f-afe5-4135-a1b7-8de99a00f669"}, "date": "2019-03-12T02:18:30.724399+00:00"}, "pull_request": {"type": "pullrequest", "id": 34, "links": {"self": {"href": "data/repositories/levitsky/pyteomics/pullrequests/34.json"}, "html": {"href": "#!/levitsky/pyteomics/pull-requests/34"}}, "title": "feature:Make the charge parser used by MGFBase overrideable by inheritance"}}]}