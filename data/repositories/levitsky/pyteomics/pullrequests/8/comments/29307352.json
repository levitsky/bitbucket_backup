{"links": {"self": {"href": "data/repositories/levitsky/pyteomics/pullrequests/8/comments/29307352.json"}, "html": {"href": "#!/levitsky/pyteomics/pull-requests/8/_/diff#comment-29307352"}}, "deleted": false, "pullrequest": {"type": "pullrequest", "id": 8, "links": {"self": {"href": "data/repositories/levitsky/pyteomics/pullrequests/8.json"}, "html": {"href": "#!/levitsky/pyteomics/pull-requests/8"}}, "title": "Implementation of described work in \" cvParam Unit Awareness\""}, "content": {"raw": "I've offloaded the behavior to `_repr_pretty_` so that at least IPython will show the unit. Not ideal, but it beats making this a breaking change.\n\nUnfortunately, I don't think a mixin would work since we're depending upon the builtin's `__repr__` which is part of a specific inheritance path, which would not be on the mixin's MRO. A metaclass wouldn't work here, since the behavior we're using is about class instances, not the classes themselves or instance creation.\n\nI also noticed that during my testing of the mzXML retention time change that scans were coming out out of order for non-nested scans. I rewrote the queue iterator to use a priority queue instead of trying to traverse the tree myself.", "markup": "markdown", "html": "<p>I've offloaded the behavior to <code>_repr_pretty_</code> so that at least IPython will show the unit. Not ideal, but it beats making this a breaking change.</p>\n<p>Unfortunately, I don't think a mixin would work since we're depending upon the builtin's <code>__repr__</code> which is part of a specific inheritance path, which would not be on the mixin's MRO. A metaclass wouldn't work here, since the behavior we're using is about class instances, not the classes themselves or instance creation.</p>\n<p>I also noticed that during my testing of the mzXML retention time change that scans were coming out out of order for non-nested scans. I rewrote the queue iterator to use a priority queue instead of trying to traverse the tree myself.</p>", "type": "rendered"}, "created_on": "2017-01-06T20:40:08.107693+00:00", "user": {"display_name": "Joshua Klein", "uuid": "{919f0add-304d-4b9a-8889-d2622a3dbc96}", "links": {"self": {"href": "https://api.bitbucket.org/2.0/users/%7B919f0add-304d-4b9a-8889-d2622a3dbc96%7D"}, "html": {"href": "https://bitbucket.org/%7B919f0add-304d-4b9a-8889-d2622a3dbc96%7D/"}, "avatar": {"href": "data/secure.gravatar.com/avatar/7d0e70bc74f783efa621a2bdd228ca22d=httpsavatar-management--avatars.us-west-2.prod.public.atl-paas.netinitialsJK-3.png"}}, "nickname": "mobiusklein", "type": "user", "account_id": "557058:ff82222f-afe5-4135-a1b7-8de99a00f669"}, "updated_on": "2017-01-06T20:41:16.463211+00:00", "type": "pullrequest_comment", "id": 29307352}